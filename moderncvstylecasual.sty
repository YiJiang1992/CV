%% start of file `moderncvstylecasual.sty'.
%% Copyright 2006 Xavier Danaux.
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License version 1.3c,
% available at http://www.latex-project.org/lppl/.

%changed by lidong http://www.ustc.edu.cn~lixido to support chinese

%-------------------------------------------------------------------------------
%                identification
%-------------------------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{moderncvstylecasual}[2006/09/09 v0.5 modern curriculum vitae style: casual]


%-------------------------------------------------------------------------------
%                required packages
%-------------------------------------------------------------------------------
\usepackage{CJK}

%-------------------------------------------------------------------------------
%                package options
%-------------------------------------------------------------------------------
% nocolor option
\newif\if@color\@colortrue
\DeclareOption{nocolor}{\@colorfalse}

% roman option
\newif\if@roman\@romanfalse
\DeclareOption{roman}{\@romantrue}

% unused options
\DeclareOption*{
  \PackageWarning{moderncvstylecasual}{Unknown option ‘\CurrentOption’}}

% execute default options
\ExecuteOptions{color}

% process given options
\ProcessOptions\relax


%-------------------------------------------------------------------------------
%                style definition
%-------------------------------------------------------------------------------
% symbols used
\renewcommand*{\listitemsymbol}{\textbullet}

% colors
\if@color
  \definecolor{firstnamecolor}{rgb}{0.65,0.65,0.65}
  \definecolor{familynamecolor}{rgb}{0.45,0.45,0.45}
  \definecolor{cnnamecolor}{rgb}{0.65,0.65,0.65}
  \definecolor{quotecolor}{rgb}{0.35,0.35,0.35}
  \definecolor{sectionrectanglecolor}{rgb}{0.25,0.5,0.75}
  \definecolor{sectiontitlecolor}{rgb}{0.2,0.4,0.65}
\else
  \definecolor{firstnamecolor}{rgb}{0.5,0.5,0.5}
  \definecolor{familynamecolor}{rgb}{0,0,0}
  \definecolor{cnnamecolor}{rgb}{0.4,0.4,0.4}
  \definecolor{quotecolor}{rgb}{0.35,0.35,0.35}
  \definecolor{sectionrectanglecolor}{rgb}{0.75,0.75,0.75}
  \definecolor{sectiontitlecolor}{rgb}{0.35,0.35,0.35}\fi

% fonts
\if@roman
  \AtBeginDocument{\rmfamily}
\else
  \AtBeginDocument{\sffamily}\fi
\renewcommand*{\ttdefault}{pcr}
\renewcommand*{\firstnamefont}{\fontsize{36}{38}\sffamily\mdseries\upshape}
\renewcommand*{\cnnamefont}{\fontsize{34}{36}\mdseries}
\renewcommand*{\familynamefont}{\firstnamefont}
\renewcommand*{\addressfont}{\normalsize\sffamily\mdseries\slshape}
\renewcommand*{\quotefont}{\large\slshape}
\renewcommand*{\sectionfont}{\Large\sffamily\mdseries\upshape}
\renewcommand*{\subsectionfont}{\normalsize\sffamily\mdseries\upshape}

% styles

% maketitle
\renewcommand*{\maketitle}
{%
  {%
    \ifthenelse{\equal{\@photo}{}}%
      {}%
      {{\color{firstnamecolor}\framebox{\includegraphics[height=\@photoheight]{\@photo}}}}%

    \hfill%
    \raggedleft{
    \firstnamestyle{\@firstname}
    \familynamestyle{ \@familyname}
    \cnnamestyle{\@cnname}
    }
  }\\[-.35em]
  {\color{firstnamecolor}\rule{\textwidth}{.25ex}\\[2.5em]}
  }%

% cv footer
\providecommand*{\footersymbol}{}
\renewcommand*{\footersymbol}{\textbullet}
\providecommand*{\footerfont}{}
\renewcommand*{\footerfont}{\addressfont}
\if@color
  \definecolor{footertextcolor}{rgb}{0.35,0.35,0.35}
  \definecolor{footersymbolcolor}{rgb}{0.25,0.5,0.75}
\else
  \definecolor{footertextcolor}{rgb}{0.35,0.35,0.35}
  \definecolor{footersymbolcolor}{rgb}{0.75,0.75,0.75}\fi
\providecommand*{\makefooter}{}
\renewcommand*{\makefooter}{%
  \fancypagestyle{plain}{%
    \fancyfoot[c]{%
      \footerfont%
      \color{footertextcolor}\@address%
      ~~\color{footersymbolcolor}\footersymbol~~%
      \color{footertextcolor}\Telefon~\@phone%
      ~~\color{footersymbolcolor}\footersymbol~~%
      \color{footertextcolor}\Letter~\emaillink{\@email}%
      \ifthenelse{\equal{\@extrainfo}{}}%
        {}%
        {%
          ~~\color{footersymbolcolor}\footersymbol~~%
          \color{footertextcolor}{\@extrainfo}}}}%
  \pagestyle{plain}}
\AtBeginDocument{\makefooter}


\endinput


%% end of file `moderncvstylecasual.sty'.
